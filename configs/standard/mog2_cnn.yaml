manifest_path: data/benchmarks/manifest.json
output_dir: ../../results/mog2_cnn
run_name: mog2_cnn
only_ids: null
eval:
  start_sec: 0.0
  end_sec: null
  warmup_sec: 2.0
preprocess:
  resize_width: 640
mog2:
  history: 500
  var_threshold: 16.0
  detect_shadows: true
  keep_shadows_as_fg: false
  learning_rate: -1.0
  threshold: 127
postprocess:
  median_blur_ksize: 3
  erode_iters: 1
  dilate_iters: 2
components:
  min_blob_area: 200
  max_blobs: 0
motion_ema_alpha: 0.2
gate:
  enabled: true
  start_metric: mog2_fg_pixels
  start_threshold: 800.0
  start_consecutive: 1
  cnn_start_enabled: true
  cnn_start_threshold: 0.8
  cnn_start_consecutive: 2
  cnn_start_requires_motion: true
  cnn_start_motion_metric: mog2_fg_ratio
  cnn_start_motion_threshold: 0.00025
  stay_metric: stay_score
  stay_threshold: 0.001
  pre_roll_sec: 0.0
  post_roll_sec: 1.5
cnn:
  enabled: true
  model_format: auto
  model_path: models/mobilenetv3_small_distilled.pt
  device: auto
  input_size: 224
  num_classes: 1
  output: sigmoid
  p_set: 0.45
  p_start_high: 0.8
  presence_tau_sec: 2.0
  start_requires_motion: true
  refresh_requires_motion: true
  motion_min_fg_ratio: 0.00025
  stride_recording: 8
  stride_idle_motion: 15
  idle_fullframe_stride_sec: 0.0
  max_crops: 3
  min_crop_area: 160
  expand_ratio: 1.35
  pad_px: 4
  full_frame_if_no_crops: true
ui:
  use_tqdm: true
  show_debug: false
